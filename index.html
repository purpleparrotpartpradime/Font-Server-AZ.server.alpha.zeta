<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Font Translator (Alpha/Zeta)</title>
  <style>
    body {
      background-color: #000;
      color: #00bfff;
      font-family: sans-serif;
      padding: 20px;
    }
    textarea {
      width: 100%;
      height: 100px;
      background-color: #111;
      color: #0ff;
      border: 1px solid #00bfff;
      padding: 10px;
      margin-bottom: 20px;
      resize: none;
    }
    #font-buttons {
      margin-bottom: 20px;
    }
    button {
      background-color: #001f3f;
      color: #0ff;
      border: none;
      padding: 10px;
      margin: 5px;
      cursor: pointer;
      border-radius: 8px;
    }
    button:hover {
      background-color: #003f7f;
    }
    #outputText {
      font-size: 1.5em;
      padding: 20px;
      border: 1px solid #00bfff;
      min-height: 100px;
      background-color: #111;
      margin-bottom: 30px;
    }
    #fontList {
      max-height: 400px;
      overflow-y: auto;
      padding: 10px;
      border: 1px solid #00bfff;
      border-radius: 10px;
    }
    .font-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background-color: #111;
      border: 2px solid #00bfff;
      border-radius: 50px;
      padding: 15px 25px;
      margin: 10px 0;
    }
    .font-info {
      display: flex;
      flex-direction: column;
    }
    .download-button {
      background-color: #444;
      color: #00bfff;
      border: none;
      border-radius: 50px;
      padding: 8px 16px;
      font-weight: bold;
      cursor: pointer;
    }
    .download-button:hover {
      background-color: #666;
    }
  </style>
</head>
<body>
  <h1>Font Translator (Alpha/Zeta)</h1>

  <textarea id="inputText" placeholder="Enter your text here..."></textarea>
  <div id="font-buttons">Loading fonts...</div>
  <div id="outputText">Preview will appear here</div>

  <h2>Available Fonts</h2>
  <div id="fontList">Loading font list...</div>

  <script>
    const inputText = document.getElementById('inputText');
    const outputText = document.getElementById('outputText');
    const fontButtons = document.getElementById('font-buttons');
    const fontList = document.getElementById('fontList');

    const githubApiUrl = 'https://api.github.com/repos/purpleparrotpartpradime/Font-Server-AZ.server.alpha.zeta/contents/Fonts';
    const rawBaseUrl = 'https://raw.githubusercontent.com/purpleparrotpartpradime/Font-Server-AZ.server.alpha.zeta/main/Fonts/';

    function loadFont(fontName, fontUrl) {
      const newStyle = document.createElement('style');
      newStyle.textContent = `
        @font-face {
          font-family: '${fontName}';
          src: url('${fontUrl}');
        }
      `;
      document.head.appendChild(newStyle);
    }

    function applyFont(fontName) {
      outputText.style.fontFamily = `'${fontName}'`;
      outputText.textContent = inputText.value;
    }

    inputText.addEventListener('input', () => {
      outputText.textContent = inputText.value;
    });

    async function loadFontList() {
      try {
        const response = await fetch(githubApiUrl);
        const files = await response.json();

        fontButtons.innerHTML = '';
        fontList.innerHTML = '';

        files.forEach(file => {
          if (file.name.endsWith('.ttf')) {
            const fontName = file.name.replace('.ttf', '');
            const fontUrl = rawBaseUrl + file.name;

            loadFont(fontName, fontUrl);

            // Create selector button
            const fontButton = document.createElement('button');
            fontButton.textContent = fontName;
            fontButton.addEventListener('click', () => applyFont(fontName));
            fontButtons.appendChild(fontButton);

            // Create font item in list
            const fontItem = document.createElement('div');
            fontItem.className = 'font-item';

            const info = document.createElement('div');
            info.className = 'font-info';
            info.innerHTML = `
              <strong>${file.name}</strong>
              <small>${(file.size / 1024).toFixed(1)} KB</small>
            `;

            const downloadBtn = document.createElement('a');
            downloadBtn.href = fontUrl;
            downloadBtn.download = file.name;
            downloadBtn.className = 'download-button';
            downloadBtn.textContent = 'Download';

            fontItem.appendChild(info);
            fontItem.appendChild(downloadBtn);
            fontList.appendChild(fontItem);
          }
        });
      } catch (err) {
        fontButtons.innerHTML = '⚠️ Failed to load fonts.';
        fontList.innerHTML = '⚠️ Could not fetch font list.';
        console.error(err);
      }
    }

    loadFontList();
  </script>
</body>
</html>
